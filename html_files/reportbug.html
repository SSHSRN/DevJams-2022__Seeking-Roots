<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <!-- bootstrap link -->
    <link rel="stylesheet" href="../css_files/go_to_top.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="../js_files/functional.js"></script>
    <script>
        function toggle_visibility() {
            var touch = document.getElementById('pswd');
            if (x.type == "password") {
                touch.type = "text";
            } else {
                touch.type = "password";
            }
        }
    </script>
    	<link rel="stylesheet" href="../css_files/reportbug.css">
    <link rel="stylesheet" href="../css_files/style.css">
    <!-- navbar css -->
    <link rel="stylesheet" href="../css_files/navbar.css">

    <!-- footer css -->
    <link rel="stylesheet" href="../css_files/style.css">
    <title>SignUp LogIn page</title>
    <link rel="icon" type="image" href="../assets/large_seekingroots.png">
    <style>
        element.style {}

        .goog-te-gadget .goog-te-combo {
            margin: 4px 0;
            color: black;
        }

        nav div a {
            padding: 1rem;
        }
    </style>

</head>

<body>
   
       <!--------Preloader---------------->
<div id="preloader" class="loader">
    <img src="../assets/images/preloader.gif" class="w-50 " alt="" />
  </div>
<!-- ------------------------------- -->
    <!-- Navbar section start navbar-secondary bg-secondary -->
    <nav class="navbar navbar-expand-lg  sticky-top navbar-light bg-white navbar-dark">
        <div class="container-fluid" id="navbaritems">
            <a href="#"> <img src="../assets//images/logo1.jpg" class="logo" alt=""> </a>
            <a href="#" class="navitem"> Home </a>
            <a href="#" class="navitem"> About Us</a>
            <a href="#" class="navitem"> Message </a>
            <a href="#" class="navitem"> Contact </a>
            <a href="#" class="navitem"> Sign In </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto  mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link " aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#loginDiv">Login</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#signUpDiv">Sign Up</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="index2.html">About Us</a>
                    </li>



                </ul>
            </div>
        </div>
    </nav>
    <!-- Navbar section end -->
    <div class="container5">
        <h1>Report a Bug</h1>
        <form id="bug-report-form">
          <label for="bug-description">Bug Description:</label>
          <textarea id="bug-description" name="bug-description" placeholder="Describe the bug here..." required></textarea>
          <label for="bug-severity">Severity:</label>
          <select id="bug-severity" name="bug-severity" required>
            <option value="" selected disabled>Please select</option>
            <option value="minor">Minor</option>
            <option value="moderate">Moderate</option>
            <option value="major">Major</option>
          </select>
          <label for="bug-reporter">Reporter Name:</label>
          <input type="text" id="bug-reporter" name="bug-reporter" placeholder="Your name..." required>
          <input type="submit" value="Submit Report">
        </form>
    
        <div id="success-message" class="hidden">
          <p>Thank you for reporting the bug!</p>
        </div>
    
        <div id="error-message" class="hidden">
          <p>There was an error submitting your bug report. Please try again later.</p>
        </div>
      </div>

  
     

    <script src="../js_files/go_to_top.js"></script>
<script>
    const form = document.querySelector('#bug-report-form');
const successMessage = document.querySelector('#success-message');
const errorMessage = document.querySelector('#error-message');

form.addEventListener('submit', async event => {
    event.preventDefault();
    const formData = new FormData(event.target);
    const response = await fetch('http://mockbin.com/bin/7eb970ae-1814-4394-88d4-a51cc1568443', {
        method: 'POST',
        body: formData
    });
    if (response.ok) {
        form.reset();
        successMessage.classList.remove('hidden');
        errorMessage.classList.add('hidden');
    } else {
        successMessage.classList.add('hidden');
        errorMessage.classList.remove('hidden');
    }
});
</script>
    <!--------------Preloader Script---------------->
   <script>
    var loader = document.querySelector(".loader");
    window.addEventListener("load", vanish);
    function vanish() {
      loader.classList.add("disappear");
    }
  </script>
  <!--faq-->
	<script> 
		const questions = document.querySelectorAll(".question"); 
 
		questions.forEach((question) => { 
			question.addEventListener("click", () => { 
				question.classList.toggle("active"); 
				const answer = question.nextElementSibling; 
				if (answer.style.display === "block") { 
					answer.style.display = "none"; 
				} else { 
					answer.style.display = "block"; 
				} 
			}); 
		}); 
	</script> 
    <!-- Firebase config -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-analytics.js";
        import { getDatabase, set, ref, update, onValue, get, child } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-auth.js";

        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
            apiKey: "AIzaSyAPX3OteU8Ym8pGNGS7ye_MW2e0TtgItl4",
            authDomain: "seekingroots-5d4e8.firebaseapp.com",
            projectId: "seekingroots-5d4e8",
            storageBucket: "seekingroots-5d4e8.appspot.com",
            messagingSenderId: "964695803699",
            appId: "1:964695803699:web:421793f49da7379361a046",
            measurementId: "G-407NY13GGN"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const auth = getAuth();
        const database = getDatabase(app);
        console.log("Firebase initialised");

        function generateUniqueKey(email) {
            var k = email.split('.')[0] + '-' + Math.floor(Math.random() * 100000);
            // Math.floor(Math.random()*100000) => generates a random 5 digit number
            return k;
        }

        async function getUniqueKey(email) {
            const dbRef = ref(database);
            let k1 = "";
            await get(child(dbRef, `users/` + email.split('.')[0])).then(async (snapshot) => {
                if (await snapshot.exists()) {
                    const data = await snapshot.val();
                    console.log("data from firebase", data);
                    k1 = await data.key;
                    console.log("before return", k1);
                    // return data?.key;
                } else {
                    console.log("No data available");
                }
            }).catch((error) => {
                console.error(error);
            });
            console.log("Last line of fn", k1);
            return k1;
        }

        // Function to select image
        function selectImage() {
            var e = document.getElementById("profile-pic");
            selected = e.options[e.selectedIndex].text;
            console.log(selected);
            var ppurl;
            if (selected === "Random Avatar") {
                ppurl = "https://api.multiavatar.com/" + Math.random().toString(26).slice(2) + ".png"
            }
            else if (selected === "Gravatar") {
                ppurl = "https://www.gravatar.com/avatar/" + Math.random().toString(16).slice(2) + "?s=100&d=retro";
            }
            console.log(ppurl);
            return ppurl;
        }

      
        const user = auth.currentUser;
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                // User is signed in, see docs for a list of available properties
                // https://firebase.google.com/docs/reference/js/firebase.User
                const uid = user.uid;
                console.log(user);
                console.log("local storage value: ", localStorage.getItem("childOpen"));
                if (await localStorage.getItem("childOpen")) {
                    console.log("Tab is open");
                    window.location.replace("index2.html");
                }
                else {
                    console.log("Tab is not open");
                }
                // When user is signed in, do not go to signin signup page
                // window.location.replace("index2.html");
                // ...
            } else {
                // User is signed out
                // ...
            }
        });
    </script>
    
    <script>

        var selected;

        function toggleSignupLogin() {
            a = document.getElementById("signUpDiv");
            b = document.getElementById("loginDiv");
            if (a.style.display == "none") {
                a.style.display = "block";
                b.style.display = "none";
            }
            else {
                a.style.display = "none";
                b.style.display = "block";
            }
        }
        function toggleeye() {
            var x = document.getElementById("s-password");
            var y = document.getElementById("l-password");
            if (x.type === "password" || y.type === "password") {
                x.type = "text";
                y.type = "text";
            }
            else {
                x.type = "password";
                y.type = "password";
            }
        }

        function toggleeyelogin(){
            const togglePassword = document.querySelector("#togglePassword");
            const lpassword = document.querySelector("#l-password");
        
           togglePassword.addEventListener("click", function () {

            const ltype = lpassword.getAttribute("type") === "password" ? "text" : "password";
            lpassword.setAttribute("type", ltype);

            this.classList.toggle("fa-eye");
            this.classList.toggle('fa-eye-slash');
          });

        }

        function checkDisplay(x) {
            var a = document.getElementById(x);
            if (a.style.display === "none") {
                a.style.display = "block";
            }
            else {
                a.style.display = "none";
            }
        }
    </script>

    <!-- bootstrap cdn link -->
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
        integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
        integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
        crossorigin="anonymous"></script>

    <script type="text/javascript"
        src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({ pageLanguage: 'en' }, 'google_translate_element');
        }
    </script>


</body>

</html>